<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Вход-выбор</title>
    <link rel="icon" href="https://croissantium.github.io/Demo-2vfu/images and icons/32.ico" type="image/x-icon">
    <link rel="icon" sizes="192x192" href="https://croissantium.github.io/Demo-2vfu/images and icons/favicon 192px.ico">
    <link rel="apple-touch-icon" href="https://croissantium.github.io/Demo-2vfu/images and icons/180.ico">

    <link rel="stylesheet" type="text/css" href="https://croissantium.github.io/Demo-2vfu/css/body.css" />
    <link rel="stylesheet" type="text/css" href="https://croissantium.github.io/Demo-2vfu/css/design-tokens.css" />
    <link rel="stylesheet" type="text/css" href="https://croissantium.github.io/Demo-2vfu/css/buttons.css" />
    <link rel="stylesheet" type="text/css" href="https://croissantium.github.io/Demo-2vfu/css/all-icons.css" />

    <link rel="stylesheet" type="text/css" href="https://croissantium.github.io/Demo-2vfu/css/id_forms.css" />
</head>
<body>
    <div class="user-form-container">
        <div class="user-form">
            <div class="user-form__elements">
                <div class="user-form__elements-title">
                    <div class="user-form__elements-tilte__logo">
                        <a href="https://croissantium.github.io/Demo-2vfu/index.html">
                            <img src="https://croissantium.github.io/Demo-2vfu/images and icons/logo.svg" alt="logo" />
                        </a>
                        <h1>Вход</h1>
                    </div>
                    <div class="warning-card-container">
                    </div>
                </div>
                <div class="user-form__elements-input">
                    <div class="user-form__elements-buttons-login">
                        <a href="https://croissantium.github.io/Demo-2vfu/id-form-login.html" class="button--primary-id">Вход c помощью почты СВФУ</a>
                        <a href="https://croissantium.github.io/Demo-2vfu/id-form-answer.html" class="button--secondary-id">Регистрация в Active Directory СВФУ</a>
                    </div>
                    <div class="container-or">
                        <div class="line-or"></div>
                        <p>или с помощью</p>
                        <div class="line-or"></div>
                    </div>
                    <div id="service-buttons">
                        <div class="vkid-button">
                            <script src="https://unpkg.com/@vkid/sdk@<3.0.0/dist-sdk/umd/index.js"></script>
                            <script type="text/javascript">
                              if ('VKIDSDK' in window) {
                                const VKID = window.VKIDSDK;
                          
                                VKID.Config.init({
                                  app: 52742205,
                                  redirectUrl: 'https://croissantium.github.io/Demo-2vfu/index.html',
                                  responseMode: VKID.ConfigResponseMode.Callback,
                                  source: VKID.ConfigSource.LOWCODE,
                                });
                          
                                const oneTap = new VKID.OneTap();
                          
                                oneTap.render({
                                  container: document.currentScript.parentElement,
                                  fastAuthEnabled: false,
                                  showAlternativeLogin: true,
                                  styles: {
                                    borderRadius: 12
                                  }
                                })
                                .on(VKID.WidgetEvents.ERROR, vkidOnError)
                                .on(VKID.OneTapInternalEvents.LOGIN_SUCCESS, function (payload) {
                                  const code = payload.code;
                                  const deviceId = payload.device_id;
                          
                                  VKID.Auth.exchangeCode(code, deviceId)
                                    .then(vkidOnSuccess)
                                    .catch(vkidOnError);
                                });
                              
                                function vkidOnSuccess(data) {
                                  // Обработка полученного результата
                                }
                              
                                function vkidOnError(error) {
                                  // Обработка ошибки
                                }
                              }
                            </script>
                        </div>
                        <div id="buttonContainerId">
                            <script src="https://yastatic.net/s3/passport-sdk/autofill/v1/sdk-suggest-with-polyfills-latest.js"></script>
                            <script>
                                window.YaAuthSuggest.init(
                            {
                              client_id: "63f7d3d95bdd46b097b5bdfd30fcf379",
                              response_type: "token",
                              redirect_uri: "https://croissantium.github.io/Demo-2vfu/id-form-login-answer.html"
                            },
                            "https://croissantium.github.io",
                            {
                              view: "button",
                              parentId: "buttonContainerId",
                              buttonSize: 'm',
                              buttonView: 'main',
                              buttonTheme: 'light',
                              buttonBorderRadius: "12",
                              buttonIcon: 'ya',
                            }
                          )
                          .then(({handler}) => handler())
                          .then(data => console.log('Сообщение с токеном', data))
                          .catch(error => console.log('Обработка ошибки', error))
                            </script>
                        </div>
                    </div>
                </div>                  
            </div>
        </div>
        <div class="user-form__bottom">
          <div class="user-form__bottom-container">
              <a href="#" class="user-form__bottom-container__text-link">Инструкция</a>
              <div class="line-h"></div>
              <p class="user-form__bottom-container__text">по вопросам работы сайта: <a class="user-form__bottom-container__text-blue-link" href="#">web@s-vfu.ru</a></p>
          </div>
          <div id="language-select" class="custom-language-select">
              <select id="language-select" class="custom-select">
                  <option value="ru" selected>Русский</option>
                  <option value="en">English</option>
                  <option value="fr">Français</option>
                  <option value="ch">中國人</option>
              </select>
          </div>
      </div>
    </div>
    <script src="https://croissantium.github.io/Demo-2vfu/js-files/id-form-validation.js"></script>
    <script src="https://croissantium.github.io/Demo-2vfu/js-files/input-enter.js"></script>
</body>
</html>
